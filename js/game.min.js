function t(){l.load.spritesheet("ghost_red","img/ghost_red.png",20,20),l.load.spritesheet("start_button","img/button.png",100,40),l.load.spritesheet("start_button_animation","img/startbuttonsprites.png",100,40),l.load.spritesheet("pacman","img/pacman.png",20,20),l.load.image("fruit","img/fruit.png")}function a(){l.physics.startSystem(Phaser.Physics.ARCADE),l.physics.arcade.gravity.y=100,m=l.add.text(l.world.centerX,10,"Score: "+u,{font:"16px Arial",fill:"#ffffff"}),m.anchor.set(.5),startButtonAnimation=l.add.sprite(l.world.centerX,l.world.centerY,"start_button_animation"),startButtonAnimation.anchor.set(.5,.5),startButtonAnimation.animations.add("anim",[0,1,2,4],5,!1),h=l.add.button(l.world.centerX,l.world.centerY,"start_button",s,this,1,0,1),h.anchor.set(.5,.5),p=l.add.group(),p.enableBody=!0,p.physicsBodyType=Phaser.Physics.ARCADE,p.createMultiple(50,"ghost_red"),p.setAll("checkWorldBounds",!0),p.setAll("outOfBoundsKill",!0),p.callAll("animations.add","animations","look",[0,1,6,7,2,3,4,5],5,!0),p.callAll("animations.play","animations","look"),d=l.add.group(),d.enableBody=!0,d.physicsBodyType=Phaser.Physics.ARCADE,d.createMultiple(50,"fruit"),d.setAll("checkWorldBounds",!0),d.setAll("outOfBoundsKill",!0),d.setAll("body.allowGravity",!1),c=l.add.sprite(l.world.centerX,590,"pacman"),c.anchor.set(.5),c.frame=3,c.animations.add("eat",[2,3,4],10,!1),l.physics.arcade.enable([c,p]),c.body.allowGravity=!1}function e(){l.physics.arcade.collide(d,p,i),c.rotation=l.physics.arcade.angleToPointer(c),m.text="Score: "+u,y&&(l.input.activePointer.isDown&&(o(),c.animations.play("eat")),n())}function n(){if(l.time.now>w&&p.countDead()>0){w=l.time.now+A;var t=p.getFirstDead();t.reset(l.world.randomX,10)}}function o(){if(l.time.now>g&&d.countDead()>0){g=l.time.now+f;var t=d.getFirstDead();t.reset(c.x-8,c.y-8),l.physics.arcade.moveToPointer(t,300)}}function i(t,a){t.kill(),a.kill(),u++}function s(){h.destroy(),startButtonAnimation.animations.play("anim"),setTimeout(r,1e3)}function r(){startButtonAnimation.destroy(),y=!0}var l=new Phaser.Game(800,600,Phaser.AUTO,"phaser-example",{preload:t,create:a,update:e}),d,c,p,u=0,m,h,y=!1,f=100,g=0,A=1e3,w=0;